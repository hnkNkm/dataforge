# DataForge 機能仕様書

## 1. データベース接続管理

### 1.1 対応データベース
| データベース | バージョン | 接続方式 | 優先度 |
|------------|----------|---------|--------|
| PostgreSQL | 12+ | TCP/IP, Unix Socket | P0 |
| MySQL | 5.7+ | TCP/IP, Unix Socket | P0 |
| MariaDB | 10.3+ | TCP/IP, Unix Socket | P0 |
| SQLite | 3.x | ローカルファイル | P0 |
| MongoDB | 4.4+ | TCP/IP | P1 |
| Redis | 6.0+ | TCP/IP | P2 |

### 1.2 接続プロファイル機能
- **基本情報**
  - プロファイル名
  - データベースタイプ
  - ホスト名/IPアドレス
  - ポート番号
  - データベース名
  - ユーザー名
  - パスワード（暗号化保存）

- **詳細設定**
  - SSL/TLS設定
  - 接続タイムアウト
  - 文字エンコーディング
  - 接続プール設定
  - SSH トンネル設定（P1）

- **管理機能**
  - プロファイルのインポート/エクスポート
  - プロファイルのグループ化
  - クイック接続（最近使用した接続）
  - 接続テスト機能

## 2. SQLエディタ

### 2.1 基本機能
- **エディタ機能**
  - シンタックスハイライト（SQL方言対応）
  - 行番号表示
  - コードフォールディング
  - 検索/置換（正規表現対応）
  - マルチカーソル編集
  - ブラケットマッチング

- **入力補助**
  - オートコンプリート
    - テーブル名
    - カラム名
    - SQL関数
    - 予約語
  - スニペット機能
  - パラメータバインディング

### 2.2 実行機能
- **クエリ実行**
  - 単一クエリ実行
  - 複数クエリ実行
  - 選択範囲実行
  - トランザクション管理
  - 実行計画表示

- **結果管理**
  - タブ形式での複数結果表示
  - 実行時間表示
  - 影響行数表示
  - エラー詳細表示

## 3. データビューア

### 3.1 表示機能
- **テーブルビュー**
  - ソート（複数カラム）
  - フィルタリング
  - カラム幅調整
  - カラムの表示/非表示
  - セル内容のコピー
  - NULL値の視覚的表現

- **データ型対応**
  - テキスト（長文対応）
  - 数値（フォーマット表示）
  - 日時（タイムゾーン対応）
  - バイナリ（16進表示）
  - JSON（整形表示）
  - 画像（プレビュー）

### 3.2 データ操作
- **編集機能**（P1）
  - インライン編集
  - 一括更新
  - 行の追加/削除
  - 変更の確認/取消

- **エクスポート機能**
  - CSV
  - TSV
  - JSON
  - Excel（P1）
  - SQL INSERT文

## 4. データベースエクスプローラー

### 4.1 構造表示
- **階層表示**
  - サーバー
  - データベース
  - スキーマ
  - テーブル
  - ビュー
  - インデックス
  - トリガー
  - ストアドプロシージャ

### 4.2 メタデータ表示
- **テーブル情報**
  - カラム定義
  - プライマリキー
  - 外部キー
  - インデックス
  - 制約
  - サイズ/行数

- **クイックアクション**
  - SELECT文生成
  - INSERT文生成
  - CREATE文表示
  - データプレビュー

## 5. ツール機能

### 5.1 クエリ管理
- **履歴機能**
  - 実行履歴
  - 履歴検索
  - 履歴からの再実行

- **お気に入り**
  - クエリの保存
  - フォルダ管理
  - タグ付け
  - 共有（P2）

### 5.2 分析ツール
- **パフォーマンス**
  - クエリ実行計画
  - インデックス提案
  - スロークエリ検出

- **データ分析**
  - 基本統計情報
  - データプロファイリング
  - 重複データ検出

## 6. UI/UX

### 6.1 インターフェース
- **レイアウト**
  - ペイン分割（水平/垂直）
  - タブインターフェース
  - フローティングウィンドウ
  - フルスクリーンモード

- **カスタマイズ**
  - テーマ（ライト/ダーク）
  - フォント設定
  - カラースキーム
  - キーバインディング

### 6.2 操作性
- **キーボードショートカット**
  - 標準ショートカット
  - カスタマイズ可能
  - コマンドパレット

- **その他**
  - 多言語対応
  - アクセシビリティ
  - オンラインヘルプ